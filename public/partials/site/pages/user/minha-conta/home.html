<div class="row" data-foundation-init>
	<div class="small-12 columns r2-home-title">
		<h3>Minha Conta: {{user.user}}</h3>
		<div class="r2-line-title-decorator"></div>
	</div>
</div>
<form novalidate id="minhaContaForm" name="minhaContaForm" ng-model-options="{updateOn:'default blur',debounce:{'default':500,'blur':0}}" ng-show="hasUser">
	<div class="row  r2-margin-top-20">
		<div class="small-12 columns">
			
			<ul class="accordion" data-accordion>
				
				<li class="accordion-item is-active" data-accordion-item>
					<a href="#" class="accordion-title">Pessoal</a>
					
					<div class="accordion-content" data-tab-content>

						<label for="person_name" class="r2-label-float">
							<br>
							<input type="text" class="form-control" placeholder="{{phPersonName}}" id="person_name" name="person_name"
							ng-model="user.person.name"
							required
							floating-validation/>
						</label>

						<label for="person_document_cpf" class="r2-label-float">
							<br>
							<input type="text" class="form-control" placeholder="CPF ou CNPJ" id="person_document_cpf" name="person_document_cpf"
							ng-model="user.person.documents[0].field1"
							required
							floating-validation/>
						</label>
					</div>
					
				</li>
				<li class="accordion-item" data-accordion-item>
					<a href="#" class="accordion-title">Contato</a>
					<div class="accordion-content" data-tab-content>
						<label for="telephone_number">
							<span class="r2-label-standard">Telefone: </span>
							<input type="text"
							name="telephone_number"
							data-ng-model="user.person.telephones[0].number"
							class="form-control"
							placeholder="Número do Telefone"
							id="telephone_number"
							ui-br-phone-number
							required/>
						</label>
					</div>
					
				</li>
				<li class="accordion-item" data-accordion-item>
					<a href="#" class="accordion-title">Endereço</a>
					<div class="accordion-content" data-tab-content>
						<label for="address_postcode" class="r2-label-float">
							<br>
							<input
								id="address_postcode"
								type="text"
								class="form-control"
								name="address_postcode"
								data-ng-model="user.person.addresses[0].postcode"
								placeholder="CEP"
								ui-br-cep-mask
								required
								floating-validation>
						</label>

						<label for="address_state" class="r2-label-float">
							<br>
							<select
								name="address_state"
								placeholder="Estado"
								data-ng-model="user.person.addresses[0].state"
								data-ng-change="stateSelectChange(user.person.addresses[0].state)"
								r2-input-disabled="editableInputSeekCep"
								required
								floating-validation>

								<option value="" disabled>Selecione o estado</option>
								<option data-ng-repeat="option in options.states" value="{{option.id}}">{{option.name}}</option>
							</select>
						</label>

						<label for="address_city" class="r2-label-float">
							<br>
							<select
								name="address_city"
								placeholder="Cidade"
								data-ng-model="user.person.addresses[0].city"
								r2-input-disabled="editableInputSeekCep"
								required
								floating-validation>

								<option value="" disabled>Selecione a cidade</option>
								<option data-ng-show="stateIsSelected" data-ng-repeat="option in options.cities" value="{{option.id}}">{{option.name}}</option>
							</select>

						</label>

						<label for="address_neighborhood" class="r2-label-float">
							<br>
							<input
								id="address_neighborhood"
								type="text"
								placeholder="Bairro"
								name="address_neighborhood"
								data-ng-model="user.person.addresses[0].neighborhood"
								r2-input-disabled="editableInputSeekCep"
								required
								floating-validation>
						</label>

						<label for="address_address1" class="r2-label-float">
							<br>
							<input
								id="address_address1"
								type="text"
								placeholder="Logradouro"
								name="address_address1"
								data-ng-model="user.person.addresses[0].address1"
								r2-input-disabled="editableInputSeekCep"
								required
								floating-validation>
						</label>

						<label for="address_address2" class="r2-label-float">
							<br>
							<input
								id="address_address2"
								type="text"
								placeholder="Complemento"
								name="address_address2"
								data-ng-model="user.person.addresses[0].address2"
								floating-label>
						</label>

						<label for="address_number" class="r2-label-float">
							<br>
							<input
								id="address_number"
								type="number"
								placeholder="Número"
								name="address_number"
								data-ng-model="user.person.addresses[0].number"
								required
								floating-validation>
						</label>
					</div>
				</li>
				<li class="accordion-item" data-accordion-item>
					<a href="#" class="accordion-title">Alterar Senha</a>
					<div class="accordion-content" data-tab-content>

						<div class="row">
							<div class="medium-12 columns">
								<label for="user_password">
									<span class="r2-label-standard">Nova Senha: </span>
									<br>
									<input type="text" class="form-control" placeholder="Nova Senha" id="user_password" name="user_password"
									ng-model="user.password"
									/>
								</label>
							</div>
						</div>

						<br>

						<button class="button expanded" ng-click="updatePassword()" ng-disabled="minhaContaForm.user_password.$invalid || minhaContaForm.user_conf_password.$invalid">ATUALIZAR SENHA</button>
					</div>
				</li>
			</ul>
			<button class="button expanded" ng-click="updateUser()" ng-disabled="minhaContaForm.$invalid">ATUALIZAR USUÁRIO</button>
		</div>
	</div>
</form>
